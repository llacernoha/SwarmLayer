<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shaka Player</title>
    <link rel="icon" href="data:,">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.9.2/shaka-player.compiled.js"></script>
    <script src="https://unpkg.com/peerjs@1.5.4/dist/peerjs.min.js"></script>
    <script src="swarmLayer_pb.js"></script>
    <script src="peer.js"></script>

</head>
<body>


<div>Mi ID: <span id="my-id">cargando...</span></div>

<video id="video" width="640" controls autoplay></video>



<script>
    document.addEventListener('DOMContentLoaded', async () => {
        const video = document.getElementById('video');

        if (shaka.Player.isBrowserSupported()) {
            const player = new shaka.Player();
            player.attach(video);

            player.addEventListener('error', (event) => {
                console.error('Error de Shaka Player:', event.detail);
            });

            try {
                await player.load('https://dashp2p.infinitebuffer.com/ktor/sprite/sprite.mpd');
            } catch (error) {
                console.error('No se pudo cargar el video:', error);
            }
        } else {
            console.error('Shaka Player no es compatible con este navegador.');
        }
    });
</script>



</body>
</html>
